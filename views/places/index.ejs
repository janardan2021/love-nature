<% layout('layouts/boilerplate') %>

<div class="mt-2 mb-5 ">

<!-- <div id="cluster-map"></div> -->

<div class="flex justify-center mb-40">
    <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
       
        <% for (let place of places) {%>
           
                 <div class="flex flex-col shadow-md shadow-gray-500 hover:shadow-lg hover:shadow-gray-600 transition ease-outpx-2">
                    <div class=" p-2 rounded-md">
                        <% if(place.images.length) { %>
                        <div class="flex justify-center">
                            <img class="object-fill h-48 w-96 hover:scale-x-105 transition ease-in-out
                                    rounded-md"  src="<%=place.images[0].url %>" alt="">
                        </div>
                        <% } else { %>
                            <img class="object-fill h-48 w-96 hover:scale-x-105 transition ease-in-out
                                        rounded-md"  src="https://res.cloudinary.com/dre4mtxri/image/upload/v1689237142/NatureLove/agvo8jexrorjkubsoius.jpg" alt="">  
                            <% } %>
                    </div>
                    <div class=" flex flex-col mx-2">
                        
                            <h5 class="text-xl font-semibold my-2"><%= place.title %></h5>
                            <p class="text-md text-clip overflow-hidden h-16"><%= place.description %></p>
                            <p class="text-sm text-green-700 my-2">
                                <i class="fa-thin fa-location-dot"></i>
                                <small class=""><%=place.location %></small>
                            </p>
                            <a class="bg-slate-600 w-fit text-white font-semibold py-2 px-4
                                      hover:bg-slate-700 transition ease-in-out my-2 rounded-md " href="/places/<%=place._id %>">View more</a>
                       
                    </div>
                 </div>
            
            <% } %>
        </div>
    </div>
</div>




<script>
    
    const mapToken = '<%- process.env.MAPBBOX_TOKEN %>';
    const places = { features: <%- JSON.stringify(places) %> };
 </script>
<script src="/javascripts/clusterMap.js"></script>
